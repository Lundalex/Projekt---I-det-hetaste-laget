<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Document</title>
    <link rel="stylesheet" href="C:\Users\22danlin\Documents\GitHub\I-det-hetaste-laget---220S-BG4\V5.css">
    
    <script type ="text/javascript" src="C:\Users\22danlin\Documents\GitHub\I-det-hetaste-laget---220S-BG4\V5JS-Graf.JS"></script>
  </head>

  <script>

    // document.getElementsByClassName("boxtarget3").setAttribute("class", "boxtarget1")
    
    // document.getElementById("myH1").setAttribute("class", "democlass"); 
      </script>
  <body style="background-color:rgba(11, 37, 121, 0.573);">
    <!-- <div class="flex-container">
    <div id="l1">1</div>
    <div id="l2">2</div>
    <div id="l3">3</div>
  </div><h1>Rubrik</h1>
  <span></span> -->
  
    <h1 id="Rubrik1">Rubrik</h1>
    <div id="MainS">
      <select name="hej" class="Options">
        <option value="1">Simonsplats</option>
        <option value="2">Hallonrummet</option>
        <option value="3">Larsplats</option>
        <option value="4">Biboteket</option>
        <option value="5">Ingången</option>
        <option value="6">Medeltempratur</option>
        <option value="7">MedelHumidity</option>
      </select>

      <select name="hej" class="Options">
        <option value="1">Temperatur</option>
        <option value="2">Fuktighet</option>
      </select>

      <input class="OB" type="date" />
      <button class="Options" onclick="Refreshgraph()">Refreach</button>
    </div>
    
    <p style="margin-bottom:10px;"></p>
    <div class="Graf">
      <div class="Nummer">
        <div id="Nummer1"><p>högsta mätningen</p></div>
        <div id="Nummer2"><p>^</p></div>
        <div id="Nummer3"><p>I</p></div>
        <div id="Nummer4"><p>I</p></div>
        <div id="Nummer5"><p>Mid</p></div>
        <div id="Nummer6"><p>I</p></div>
        <div id="Nummer7"><p>I</p></div>
        <div id="Nummer8"><p>I</p></div>
        <div id="Nummer9"><p>I</p></div>
        <div id="Nummer10"><p>v</p></div>
      </div>
      <!-- Graf1: -->
          <div class="MainGraf">
            <div id="rad0"></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget1"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget12-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget12-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget12-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget23-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget23-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget23-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget3"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget34-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget34-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget34-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget4"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget45-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget45-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget45-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget5"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget56-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget56-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget56-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget6"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget67-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget67-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget67-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget7"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget78-M1"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget78-M2"></div></div>
            <div id="rad2"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget78-M3"></div></div>
            <div id="rad1"><div id="box1"></div><div id="box2"></div><div id="box3"></div><div id="box4"></div><div id="box5"></div><div id="box6"></div><div id="box7"></div><div id="box8"></div><div id="box9"></div><div id="boxtarget8"></div></div>
          </div>
          
    </div>
    <div class="undergraf">
      <div class="undergrafbox">
        <div id="Tid1"> <div id="L"><p>Lägsta Värdet</p></div></div>
        <div id="Tid2"></div>   
        <div id="Tid3"></div>
        <div id="Tid4"></div>
        <div id="Tid5"></div>
        <div id="Tid6"></div>
        <div id="Tid7"></div>   
        <div id="Tid8"></div>
        <div id="Tid9"></div>
        <div id="Tid10"></div>
        <div id="Tid11"></div>
        <div id="Tid13"></div>
        <div id="Tid14"></div>
        <div id="Tid15"></div>
        <div id="Tid16"></div>
        <div id="Tid17"></div>
        <div id="Tid18"></div>
        <div id="Tid19"></div>
     </div>
    </div>
    <div id="Java">
      <section id="svg-path">
        <section id="card"></section>
      </section>
    </div>
<script>
      const svgPathParent = document.getElementById("svg-path");
const card = document.getElementById("card");


const dataPath2 = [22, 20, 19, 14, 17, 22, 26, 22, 21, 20, 11, 12, 22, 23, 25 ,22, 11, 11, 11, 16, 12, 12, 24, 24];



function dataVisualization(array, frequency, linecount) {
  const svgElment = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  const svgPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
  const days = array.length;
  const maxVal = Math.max(...array);
  const widthSvg = days * frequency;
  const heightSvg = maxVal + 100;
  const graphLine = maxVal / (linecount - 1);

  svgElment.setAttributeNS(null, "width", widthSvg);
  svgElment.setAttributeNS(null, "height", heightSvg);

  // g tager för grouping other tags
  const gElCircle = document.createElementNS("http://www.w3.org/2000/svg", "g");
  gElCircle.id = "graph-points";

  const gElLine = document.createElementNS("http://www.w3.org/2000/svg", "g");
  gElLine.id = "graph-lines";

  const gElText = document.createElementNS("http://www.w3.org/2000/svg", "g");
  gElText.id = "graph-texts";

  // base linjen
  let pathString = "M" + widthSvg + " " + heightSvg + " L" + 0 + " " + widthSvg;

  for (let d = 0; d < days; d++) {
      const yValue = heightSvg - dataPath2[d], xValue = d * frequency;
      const newString = " L" + xValue + " " + yValue;
      pathString += newString;

      const circleEl = document.createElementNS("http://www.w3.org/2000/svg", "circle");

      circleEl.setAttributeNS(null, "cx", xValue);
      circleEl.setAttributeNS(null, "cy", yValue);
      circleEl.setAttributeNS(null, "r", "8");
      circleEl.addEventListener("mouseover", (e) => {card.style = `top:${yValue}px; left:${xValue - 75}px; display: block;`;
// skapar datum
const date_ = new Date(Date.now() - ((days - d) * (24 * 60 * 60 * 1000))).toJSON().split("T")[0];
card.innerHTML = `Temperetatur: ${dataPath2[d]} <br>Date: ${date_}`;});
gElCircle.appendChild(circleEl);}


  const ends = heightSvg - dataPath2[days - 1];
  pathString += " L" + widthSvg + " " + ends;
  pathString += " Z";
  svgPath.setAttributeNS(null, "d", pathString);

  // lines and texts
  for (let l = 0; l < linecount; l++) {
      const lineEl = document.createElementNS("http://www.w3.org/2000/svg", "line");
      const textEl = document.createElementNS("http://www.w3.org/2000/svg", "text");
      const yPosition = heightSvg - (l * graphLine);
      lineEl.setAttributeNS(null, "x1", "0");
      lineEl.setAttributeNS(null, "y1", yPosition);
      lineEl.setAttributeNS(null, "x2", widthSvg);
      lineEl.setAttributeNS(null, "y2", yPosition);
      gElLine.appendChild(lineEl);

      const txt = l * graphLine;
      textEl.setAttributeNS(null, "dx", "-20");
      textEl.setAttributeNS(null, "x", widthSvg);
      textEl.setAttributeNS(null, "y", yPosition);
      textEl.textContent = txt;

      gElText.appendChild(textEl);

  }

  svgElment.appendChild(gElCircle);
  svgElment.appendChild(gElLine);
  svgElment.appendChild(gElText);
  svgElment.appendChild(svgPath);

  // base parent or graph container
  svgPathParent.appendChild(svgElment);
}

dataVisualization(dataPath2, 50, 3);

</script>


</body>
<!-- !!!!!!!!!!!!!!! -->
</html>
